<!--TITLE-->
<h4>Reactives <small> Forms </small></h4>
<hr>
<br>
<!--FORM-->
<form autocomplete="off" [formGroup]="form" (ngSubmit)="save()">
    <div class="row g-3 align-items-center">
        <!--NAME-->
        <div class="mb-3 row">
            <label class="col-2 col-form-label">Name</label>
            <div class="col-auto">
                <input class="form-control" type="text" placeholder="Name" formControlName="name" [class.is-invalid]="nameNoValid">
                <small *ngIf="nameNoValid" class="text-danger">Minimum 3 letters</small>
            </div>
        </div>
        <!--SURNAME-->
        <div class="mb-3 row">
            <label class="col-2 col-form-label">Surname</label>
            <div class="col-auto">
                <input class="form-control" type="text" placeholder="Surname" formControlName="surname" [class.is-invalid]="surnameNoValid">
                <small *ngIf="surnameNoValid" class="text-danger">Minimum 5 letters</small>
            </div>
        </div>
        <!--EMAIL-->
        <div class="mb-3 row">
            <label class="col-2 col-form-label">Email</label>
            <div class="col-auto">
                <input class="form-control" type="email" placeholder="Email Address" formControlName="email" [class.is-invalid]="emailNoValid">
                <small *ngIf="emailNoValid" class="text-danger">Enter a valid email</small>
            </div>
        </div>
        <!--USER-->
        <div class="mb-3 row">
            <label class="col-2 col-form-label">User</label>
            <div class="col-auto">
                <input class="form-control" type="email" placeholder="Username" formControlName="user" [class.is-invalid]="userNoValid" [class.is-valid]="userValid">
                <small *ngIf="userNoValid" class="text-danger">Username invalid</small>
                <small *ngIf="userValid" class="text-success">Username valid</small>
            </div>
        </div>
        <!--PASSWORD-->
        <div class="mb-3 row">
            <label class="col-2 col-form-label">Password</label>
            <div class="col-auto">
                <input class="form-control" type="password" placeholder="Password" formControlName="pass1" [class.is-invalid]="pass1NoValid">
                <small *ngIf="pass1NoValid" class="text-danger">Enter a strong password. Minimum 8 characters</small>
            </div>
        </div>
        <div class="mb-3 row">
            <label class="col-2 col-form-label">Password</label>
            <div class="col-auto">
                <input class="form-control" type="password" placeholder="Repeat Password" formControlName="pass2" [class.is-invalid]="pass2NoValid">
                <small *ngIf="pass2NoValid" class="text-danger">Password must match</small>
            </div>
        </div>
        <!--ADDRESS-->
        <div class="mb-3 row" formGroupName="address">
            <label class="col-2 col-form-label">Address</label>
            <div class="col-auto">
                <input type="text" class="form-control" placeholder="Address" formControlName="address" [class.is-invalid]="addressNoValid">
            </div>
        </div>
        <!--HOBBIES TABLE-->
        <div class="row">
            <div class="col">
                <table class="table table-dark">
                    <thead>
                        <tr class="items-aling-center">
                            <th>ID</th>
                            <th>Hobbie</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody formArrayName="hobbie">
                        <tr *ngFor="let control of hobbie.controls; let i = index" class="table-light">
                            <td>{{ i + 1 }}</td>
                            <td>
                                <input type="text" class="form-control" [formControlName]="i">
                            </td>
                            <td>
                                <button class="btn btn-danger" type="button" (click)="deleteHobbie(i)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="btn btn-success mt-3 mb-5" type="button" (click)="addHobbie()">+ Add</button>
            </div>
        </div>
        <!--SAVE BUTTON-->
        <div class="mb-3 row">
            <label class="col-2 col-form-label">&nbsp;</label>
            <div class="d-grid gap-2 col-6 mx-auto">
                <button type="submit" class="btn btn-outline-primary">
            Save
          </button>
            </div>
        </div>
    </div>
</form>
<hr>
<pre>
    Form status: {{form.valid}}
    <br>
    Status: {{form.status}}
</pre>
<pre>
    {{form.value | json}}
</pre>